<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>
		<meta name="_csrf" content="fbc9531b-30fb-41f9-afa4-adea259bbd4c" />
		<title>Sii-aman</title>
		<link href="/siiamanTest/resources/css/spinner.css" rel="stylesheet" />
		<link href="/siiamanTest/resources/css/semantic.min.css" rel="stylesheet" />
		<link href="/siiamanTest/resources/css/help-style.css" rel="stylesheet" />
		<link href="/siiamanTest/resources/css/loader-style.css" rel="stylesheet" />
		<script src="/siiamanTest/resources/js/jquery-3.1.1.min.js"></script>
		<script src="/siiamanTest/resources/js/angular.min.js"></script>
		<script src="/siiamanTest/resources/js/angular-animate.min.js"></script>
		<script src="/siiamanTest/resources/js/semantic.min.js"></script>
		<script src="/siiamanTest/resources/js/help-script.js"></script>
		<script src="/siiamanTest/resources/js/tablesort.js"></script>
		<script src="/siiamanTest/resources/js/jquery.big-slide.js"></script>
		
		<script>window.baseUrl = '/siiamanTest';</script>
	</head>
<body>








	<link href="/siiamanTest/resources/costsTable/demo.css" rel="stylesheet" />
    <link href="/siiamanTest/resources/costsTable/easyui.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/icon.css" />
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/color.css" />
    <script src="/siiamanTest/resources/costsTable/jquery.easyui.min.js"></script>

<div class="bg"></div>
	<div id="content">
		





<div id="mainMenu" class="ui large secondary inverted blue pointing ten item menu">
	<img src="/siiamanTest/resources/img/beta.png" style="height: 67px;" />
	<div class=" item" onmousedown="$('#mini-logo').transition('jiggle');" id="index">
		<a href="/siiamanTest/">
			<img id="mini-logo" src="/siiamanTest/resources/img/sii-logo.png" width="50px" alt="SII" />aman
		</a>
	</div>
	<a class=" item" href="/siiamanTest/myOrders" id="myOrders">Moje zamówienia</a> 
	<a class=" item" href="/siiamanTest/restaurants" id="restaurants">Restauracje</a>
	<a class=" item" href="/siiamanTest/admin" id="admin">Ustawienia</a>
	
	<a class=" item" href="/siiamanTest/contributors" id="contributors">Aleja gwiazd</a>
		<a class="active item" href="/siiamanTest/costsTable" id="costsTable">Tabela rozliczeń</a>
	<a class="item right" id="inviteToApplication" onclick="$('.modal.inviteToApplicationModal').modal('show');document.activeElement.blur();">Zaproś do aplikacji</a>

	<a class=" item right" href="/siiamanTest/settings" id="settings">
		automation@pl.sii.eu
	</a>
	<div class="item">
		<form name="logout" action="/siiamanTest/logout" method="post">
			<input class="ui inverted red button" value="Wyloguj" type="submit" />
			<input type="hidden" name="_csrf" value="fbc9531b-30fb-41f9-afa4-adea259bbd4c" />
		</form>
	</div>
</div>
<noscript>
	&lt;div class="sixteen wide column"&gt;
		&lt;div class="ui error message"&gt;
			&lt;i class="close icon"&gt;&lt;/i&gt;
			&lt;p&gt;Twoja przeglądarka ma wyłączoną obsługę javascript. Włącz obsługę i odśwież stronę, aby korzystać ze wszystkich funkcji aplikacji.&lt;/p&gt;
		&lt;/div&gt;
 	&lt;/div&gt;
</noscript>


<br /><br /><br />

    <div class="panel datagrid panel-htop easyui-fluid" style="width: 1698px;"><div class="datagrid-wrap panel-body panel-body-noheader" title="" style="width: 1698px; height: 628px;"><div id="toolbar" class="datagrid-toolbar">

        <button id="editButton" class="ui left floated orange button" style="width:10%;display:INLINE;" iconcls="icon-edit" plain="true" onclick="editCost()">Edytuj kwotę</button>

        <div class="ui large buttons">
        <h1 style="margin-bottom: auto;">Zamówienia gdzie   </h1>
         <button id="liderButton" class="ui button " onclick="getAllCosts()">Jestem liderem</button>

         <button id="participantButton" class="ui button" onclick="getAllCostsForParticipant()" style="text-decoration: line-through;">Jestem zamawiającym</button>
        </div>
    </div><div class="datagrid-view" style="width: 1696px; height: 581.875px;"><div class="datagrid-view1" style="width: 0px;"><div class="datagrid-header" style="width: 0px; height: 50px;"><div class="datagrid-header-inner" style="display: block;"><table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0" style="height: 50px;"><tbody></tbody></table></div></div><div class="datagrid-body" style="width: 0px; margin-top: 0px; height: 531.875px;"><div class="datagrid-body-inner"></div></div><div class="datagrid-footer" style="width: 0px;"><div class="datagrid-footer-inner" style="display: none;"></div></div></div><div class="datagrid-view2" style="width: 1696px;"><div class="datagrid-header" style="width: 1696px; height: 50px;"><div class="datagrid-header-inner" style="display: block;"><table class="datagrid-htable" border="0" cellspacing="0" cellpadding="0" style="height: 50px;"><tbody><tr class="datagrid-header-row"><td field="orderId"><div class="datagrid-cell datagrid-sort-asc datagrid-sort datagrid-cell-c1-orderId"><span>Numer zam.</span><span class="datagrid-sort-icon"></span></div></td><td field="orderStatus"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-orderStatus"><span>Status zam.</span><span class="datagrid-sort-icon"></span></div></td><td field="orderRestaurantData"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-orderRestaurantData"><span>Restauracja</span><span class="datagrid-sort-icon"></span></div></td><td field="orderDateOrdered"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-orderDateOrdered"><span>Data zamówienia</span><span class="datagrid-sort-icon"></span></div></td><td field="firstAndLastNameLeader"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-firstAndLastNameLeader"><span>Lider</span><span class="datagrid-sort-icon"></span></div></td><td field="username"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-username"><span>Zamawiający</span><span class="datagrid-sort-icon"></span></div></td><td field="costSum"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-costSum"><span>Do zapłaty</span><span class="datagrid-sort-icon"></span></div></td><td field="costPaid"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-costPaid"><span>Zapłacono</span><span class="datagrid-sort-icon"></span></div></td><td field="change"><div class="datagrid-cell datagrid-sort datagrid-cell-c1-change"><span>Bilans</span><span class="datagrid-sort-icon"></span></div></td></tr></tbody></table></div></div><div class="datagrid-body" style="width: 1696px; margin-top: 0px; height: 531.875px; overflow-x: hidden;"><table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody><tr id="datagrid-row-r1-2-0" class="" style="height: 1px; border-color: transparent; background: transparent;"><td field="orderId" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-orderId"></div></td><td field="orderStatus" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-orderStatus"></div></td><td field="orderRestaurantData" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-orderRestaurantData"></div></td><td field="orderDateOrdered" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-orderDateOrdered"></div></td><td field="firstAndLastNameLeader" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-firstAndLastNameLeader"></div></td><td field="username" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-username"></div></td><td field="costSum" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-costSum"></div></td><td field="costPaid" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-costPaid"></div></td><td field="change" style="height: 1px; border-color: transparent; background: transparent;"><div style="height: 1px; border-color: transparent; background: transparent;" class="datagrid-cell datagrid-cell-c1-change"></div></td></tr></tbody></table></div><div class="datagrid-footer" style="width: 1696px;"><div class="datagrid-footer-inner" style="display: none;"></div></div></div><table id="dg" class="easyui-datagrid datagrid-f" style="display: none;" url="getAllCosts" method="get" toolbar="#toolbar" pagination="false" remotefilter:="" "true"="" rownumbers="false" sortname="orderId" sortorder="asc" fitcolumns="true" singleselect="true" remotesort="false">
        <thead>
            <tr>
                <th field="orderId" width="30" sortable="true">Numer zam.</th>
                <th field="orderStatus" width="30" class="disabled" sortable="true">Status zam.</th>
                <th field="orderRestaurantData" width="50" sortable="true">Restauracja</th>
                <th field="orderDateOrdered" width="50" sortable="true">Data zamówienia</th>
                <th field="firstAndLastNameLeader" width="50" sortable="true">Lider</th>
                <th field="username" width="50" sortable="true">Zamawiający</th>
                <th field="costSum" width="20" sortable="true">Do zapłaty</th>
                <th field="costPaid" width="20" sortable="true">Zapłacono</th>
                 <th field="change" width="20" data-options="formatter:formatPrice" sortable="true">Bilans</th>
            </tr>
        </thead>
    </table><style type="text/css" easyui="true">
.datagrid-header-rownumber{width:29px}
.datagrid-cell-rownumber{width:29px}
.datagrid-cell-c1-orderId{width:29px}
.datagrid-cell-c1-orderStatus{width:29px}
.datagrid-cell-c1-orderRestaurantData{width:49px}
.datagrid-cell-c1-orderDateOrdered{width:49px}
.datagrid-cell-c1-firstAndLastNameLeader{width:49px}
.datagrid-cell-c1-username{width:49px}
.datagrid-cell-c1-costSum{width:19px}
.datagrid-cell-c1-costPaid{width:19px}
.datagrid-cell-c1-change{width:19px}
</style></div></div></div>

    

    
    
    <script type="text/javascript">

        $(document).ready(function() {
         $('#participantButton').css('text-decoration','line-through');
                $('#liderButton').css('text-decoration','');

        });

        var url;

       function getAllCosts(){
        $('#dg').datagrid('load','getAllCosts');
        $('#editButton').show();
        $('#participantButton').css('text-decoration','line-through');
        $('#liderButton').css('text-decoration','');
       }

        function getAllCostsForParticipant(){
               $('#dg').datagrid('load','getAllCostsForParticipant');
               $('#editButton').hide();
               $('#liderButton').css('text-decoration','line-through');
               $('#participantButton').css('text-decoration','');
              }

        function editCost(){
            var row = $('#dg').datagrid('getSelected');
            if (row){
                $('#dlg').dialog('open').dialog('center').dialog('setTitle','Edycja kwoty');
                $('#fm').form('load',row);
                url = 'editCost/'+row.id;
            }
        }
        function saveCost(){
                      $.ajax({
                          url: url,
                          type: 'GET',
                          contentType: 'application/json',
                          data: {
                          "paid": $('#costPaid').val(),
                          },
                          success: function (response) {
                            $('#fm').form('clear');
                              $('#dlg').dialog('close');
                             $('#dg').datagrid('reload');

                          },
                          error: function (jqxhr, textStatus, error) {
                              var err = textStatus + ", " + error;
                              console.log( "Request Failed: " + err );
                          }
                      });

               }

            function formatPrice(val,row){
              if (val &lt; 0){
              return '&lt;span style="color:red;"&gt;('+val+')&lt;/span&gt;';
              } else {
               return val;
              }
              }

    </script>
</div>








	


<div id="footer" class="ui vertical footer segment">
    <div id="deleteItemDiv">

    </div>
	<div class="ui center aligned container">
		<p>SIIaman</p>
		<div class="ui horizontal inverted small divided link">
		<!-- TODO: not implemented yet -->
		<!-- <a class="item" href="#"> Mapa strony</a> --> 
		<a class="item" href="mailto:siiaman-help@pl.sii.eu" target="_blank"> Skontaktuj się z twórcami </a>
		<!-- <a class="item" href="#"> Polityka Prywatności</a> -->
		</div>
	</div>
	
	<div class="ui modal inviteToApplicationModal" id="inviteToApplicationModal">
	    <div class="header">Zaproś do aplikacji</div>
        <div class="content">
			<div id="wrongEmails" class="ui negative message hidden" align="center">
				<i class="close icon"></i>
				<div class="header">Nie można dodać maila spoza domeną @pl.sii.eu</div>
				<p>Popraw dane by kontynuować</p>
			</div>
			<div class="ui segment form">
                <h3 class="center">Wybierz osóby, które chcesz zaprosić do aplikacji</h3>
				<form id="attachUsersToApplicationForm" action="/siiamanTest/inviteToApplication" method="post">
					<input type="hidden" name="_csrf" value="fbc9531b-30fb-41f9-afa4-adea259bbd4c" />
					<input id="baseUrl" type="hidden" value="/siiamanTest" />
					<div class="field">
						<div class="ui fluid search dropdown allowDropdownAdding selection multiple"><select multiple="" id="inviteToApplicationSelect" name="usernameList">
							<option value="">Adres email</option>
						</select><i class="dropdown icon"></i><input class="search" autocomplete="off" tabindex="0" /><span class="sizer"></span><span class="sizer"></span><div class="default text">Adres email</div><div class="menu" tabindex="-1"></div></div>
					</div>
				</form>
			</div>
        </div>
		<div class="actions">
		    <div id="inputAttachUsersToApplication" class="ui green button">OK</div>
			<div class="ui red deny button cancel_button">Anuluj</div>
		</div>
	</div>
</div>
	
<div class="panel window panel-htop" style="display: none; width: 400px; left: 744px; top: 374px;"><div class="panel-header panel-header-noborder window-header" style="width: 388px;"><div class="panel-title">New Dialog</div><div class="panel-tool"><a href="javascript:;" class="panel-tool-close"></a></div></div><div id="dlg" class="easyui-dialog panel-body panel-body-noborder window-body" style="padding: 10px; width: 388px; height: 127px;" closed="true" buttons="#dlg-buttons" title="">
        <form id="fm" method="post" novalidate="" style="margin:0;padding:20px 50px">

            <div style="margin-bottom:10px">
                <label class="textbox-label textbox-label-before" for="_easyui_textbox_input1" style="text-align: left; height: 23px; line-height: 23px;">Kwota :</label><input id="costPaid" label="Kwota :" class="easyui-textbox textbox-f" required="true" style="width: 100%; display: none;" textboxname="costPaid" /><span class="textbox textbox-invalid easyui-fluid" style="width: 186px;"><input id="_easyui_textbox_input1" type="text" class="textbox-text validatebox-text validatebox-invalid textbox-prompt" autocomplete="off" tabindex="" placeholder="" style="width: 184px; margin: 0px; padding-top: 0px; padding-bottom: 0px; height: 21px; line-height: 21px;" /><input type="hidden" class="textbox-value" name="costPaid" value="" /></span>
            </div>

        </form>
    </div><div id="dlg-buttons" class="dialog-button" style="width: 388px;">
        <a href="javascript:void(0)" class="easyui-linkbutton c6 l-btn l-btn-small" iconcls="icon-ok" onclick="saveCost()" style="width:90px" group="" id=""><span class="l-btn-left l-btn-icon-left" style="margin-top: 0px;"><span class="l-btn-text">Save</span><span class="l-btn-icon icon-ok"> </span></span></a>
        <a href="javascript:void(0)" class="easyui-linkbutton l-btn l-btn-small" iconcls="icon-cancel" onclick="javascript:$('#dlg').dialog('close')" style="width:90px" group="" id=""><span class="l-btn-left l-btn-icon-left" style="margin-top: 0px;"><span class="l-btn-text">Cancel</span><span class="l-btn-icon icon-cancel"> </span></span></a>
    </div></div><div class="" style="display: none; left: 744px; top: 374px; width: 400px; height: 200px;"></div></body></html>